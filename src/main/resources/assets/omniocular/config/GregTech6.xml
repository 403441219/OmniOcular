<!--Author: Amamiya-Nagisa-->
<!--Date: 2017/06/9-->
<!--Version: 6.05.22-->
<oo>

    <!-- 蒸汽锅炉容量上限 -->
	<init>
		function getBoilerCapacity(mID){
			switch(mID){
				case 1200:{return 160000;break;}
				case 1201:{return 200000;break;}
				case 1202:{return 240000;break;}
				case 1203:{return 160000;break;}
				case 1204:{return 320000;break;}
				case 1205:{return 960000;break;}
				case 1206:{return 1120000;break;}
				case 1207:{return 1280000;break;}
				case 1208:{return 1280000;break;}
				case 1250:{return 4 * getBoilerCapacity(mID - 50);break;}
				case 1251:{return 4 * getBoilerCapacity(mID - 50);break;}
				case 1252:{return 4 * getBoilerCapacity(mID - 50);break;}
				case 1253:{return 4 * getBoilerCapacity(mID - 50);break;}
				case 1254:{return 4 * getBoilerCapacity(mID - 50);break;}
				case 1255:{return 4 * getBoilerCapacity(mID - 50);break;}
				case 1256:{return 4 * getBoilerCapacity(mID - 50);break;}
				case 1257:{return 4 * getBoilerCapacity(mID - 50);break;}
				case 1258:{return 4 * getBoilerCapacity(mID - 50);break;}
			}
		}
	</init>

	<!-- 判断蒸汽机器爆炸半径 -->
	<init>
		function ExplodeRoundSU(cap){
			if((Math.sqrt(cap) / 100) > 1){
				return Math.floor((Math.sqrt(cap) / 100));
			}
			return 1;
		}
	</init>

	<!-- 判断靠近锅炉所受伤害数值 -->
	<init>
		function HeatDamageSU(enCap,SUCap,isChisel){
			if(isChisel == 0){
				if(Math.floor((enCap + SUCap / 2) / 2000) < 10){
					return Math.floor((enCap + SUCap / 2) / 2000);
				}
				return 10;
			}
			return Math.floor((enCap + SUCap / 2) / 2000)
		}
	</init>

    <!-- 坩埚   -->
    <tileentity id="gt.multitileentity.smeltery">
	    <line displayname="当前温度">
		return nbt['gt.temperature']+BLUE+" K"
        </line>
		<line displayname="熔炼物种数">
		return nbt['gt.materials']['size']+BLUE+" 种"
        </line>
		<line displayname="熔炼物1情况">
		return nbt['gt.materials']['0']['a'] / 420076800+BLUE+"份 "+RED+nbt['gt.materials']['0']['i']
        </line>
		<line displayname="熔炼物2情况">
		return nbt['gt.materials']['1']['a'] / 420076800+BLUE+"份 "+RED+nbt['gt.materials']['1']['i']
        </line>
		<line displayname="熔炼物3情况">
		return nbt['gt.materials']['2']['a'] / 420076800+BLUE+"份 "+RED+nbt['gt.materials']['2']['i']
        </line>
		<line displayname="熔炼物4情况">
		return nbt['gt.materials']['3']['a'] / 420076800+BLUE+"份 "+RED+nbt['gt.materials']['3']['i']
        </line>
		<line displayname="熔炼物5情况">
		return nbt['gt.materials']['4']['a'] / 420076800+BLUE+"份 "+RED+nbt['gt.materials']['4']['i']
        </line>
		<line displayname="熔炼物6情况">
		return nbt['gt.materials']['5']['a'] / 420076800+BLUE+"份 "+RED+nbt['gt.materials']['5']['i']
        </line>
		<line displayname="熔炼物7情况">
		return nbt['gt.materials']['6']['a'] / 420076800+BLUE+"份 "+RED+nbt['gt.materials']['6']['i']
        </line>
		<line displayname="熔炼物8情况">
		return nbt['gt.materials']['7']['a'] / 420076800+BLUE+"份 "+RED+nbt['gt.materials']['7']['i']
        </line>
		<line displayname="熔炼物9情况">
		return nbt['gt.materials']['8']['a'] / 420076800+BLUE+"份 "+RED+nbt['gt.materials']['8']['i']
        </line>
	</tileentity>
	
	<!-- 模具   -->
	<tileentity id="gt.multitileentity.mold">
	    <line displayname="当前温度">
		return nbt['gt.temperature']+BLUE+" K"
        </line>
		<line displayname="当前铸造">
		return nbt['gt.materials']['m']
        </line>
	</tileentity>
	
	<!-- 蒸汽锅炉   -->
	<tileentity id="gt.multitileentity.tank.boiler_steam">
		<line displayname="爆炸警告1">
		if((nbt['gt.tank.1']['Amount'] / getBoilerCapacity(nbt['gt.mte.id'])) > 0.10){
			return RED + "此时使用扳手拆除会造成半径" + ExplodeRoundSU(nbt['gt.tank.1']['Amount']) + "格的爆炸";
		}
		</line>

		<line displayname="爆炸警告2">
		if((nbt['gt.tank.1']['Amount'] / getBoilerCapacity(nbt['gt.mte.id'])) > 0.46){
			return RED + "此时使用凿子清理锅炉会造成半径" + ExplodeRoundSU(nbt['gt.tank.1']['Amount']) + "格的爆炸";
		}
		</line>

		<line displayname="烫伤警告1">
		if((nbt['gt.energy'] != undefined) && (nbt['gt.tank.1']['Amount'] != undefined)){
			if((nbt['gt.tank.1']['Amount'] / 2) > 2000){
				return RED + "此时靠近锅炉会受到" + HeatDamageSU(nbt['gt.energy'],nbt['gt.tank.1']['Amount'],0) + "点伤害";
			}
		}
		</line>

		<line displayname="烫伤警告2">
		if((nbt['gt.energy'] != undefined) && (nbt['gt.tank.1']['Amount'] != undefined)){
			if((nbt['gt.tank.1']['Amount'] / 2) > 2000){
				return RED + "此时使用凿子清理锅炉会受到" + HeatDamageSU(nbt['gt.energy'],nbt['gt.tank.1']['Amount'],1) + "点伤害";
			}
		}
		</line>

		<line displayname="效率">
		if(nbt['gt.eff'] != undefined){
			return nbt['gt.eff'] / 100 + "%";
		}
		return "100.00%";
		</line>

		<line displayname="热量存量">
		if(nbt['gt.energy'] != undefined){
			return nbt['gt.energy'] + "/" + getBoilerCapacity(nbt['gt.mte.id']) + " - " + Math.floor(nbt['gt.energy'] / getBoilerCapacity(nbt['gt.mte.id']) * 10000) / 100 + "%";
		}
		return "0/" + getBoilerCapacity(nbt['gt.mte.id']) + " - " + "0.00%";
		</line>

	    <line displayname="水类型">
		return fluidName(nbt['gt.tank.0']['FluidName']);
		</line>

		<line displayname="水存量">
		return nbt['gt.tank.0']['Amount'] + "/4000" + BLUE + "L";
		</line>

		<line displayname="蒸汽存量">
		if(nbt['gt.tank.1']['Amount'] != undefined){
			return nbt['gt.tank.1']['Amount'] + "/" + getBoilerCapacity(nbt['gt.mte.id']) + " - " + Math.floor(nbt['gt.tank.1']['Amount'] / getBoilerCapacity(nbt['gt.mte.id']) * 10000) / 100 + "%";
		}
		return "0/" + getBoilerCapacity(nbt['gt.mte.id']) + " - " + "0.00%";
		</line>
		
	</tileentity>
	
	<!-- 蒸汽引擎   -->
	<tileentity id="gt.multitileentity.engine.kinetic_steam">
	    <line displayname="缓存能量">
		if(nbt['gt.energy']!=undefined){
		return nbt['gt.energy']+BLUE+" KU"}
		</line>
		<line displayname="蒸汽存量">
		return nbt['gt.tank.0']['Amount']+BLUE+" L"
		</line>
	</tileentity>
	
	<!-- 管道   -->
	<tileentity id="gt.multitileentity.connector.pipe.fluid">
	    <line displayname="内容物">
	    if(nbt['gt.tank.0']['Amount']!=undefined){
		return fluidName(nbt['gt.tank.0']['FluidName'])+": "+GREEN+nbt['gt.tank.0']['Amount']+BLUE+" L"}
		</line>
	</tileentity>
	
	<!-- 加热器   -->
	<tileentity id="gt.multitileentity.generator.burning_solid">
	    <line displayname="剩余热量">
		if(nbt['gt.energy']!=undefined){
		return nbt['gt.energy']+BLUE+" HU"}
		</line>  
		<line displayname="燃料情况">
		if(nbt['gt.invlist']['0']['Damage']!=8200)
		if(nbt['gt.invlist']['0']['Damage']!=8201){
		return nbt['gt.invlist']['0']['Count']+BLUE+"个 "+RED+name(nbt['gt.invlist']['0'])}	
		</line>
		<line displayname="灰烬情况">
		switch(nbt['gt.invlist']['0']['Damage']) {
		case 8200:return nbt['gt.invlist']['0']['Count']+BLUE+"个 "+RED+name(nbt['gt.invlist']['0']);
		    break;
		case 8201:return nbt['gt.invlist']['0']['Count']+BLUE+"个 "+RED+name(nbt['gt.invlist']['0']);
		    break;}
		</line>
		<line displayname="灰烬情况">
		return nbt['gt.invlist']['1']['Count']+BLUE+"个 "+RED+name(nbt['gt.invlist']['1'])
		</line>
	</tileentity>

	<!-- 油泉 -->
	<tileentity id="gt.multitileentity.fluid.spring">
	    <line displayname="生成速度">
		if(nbt['gt.spring']['Amount'] > 0){
			if(nbt['gt.spring']['Amount'] < 20){
				return nbt['gt.spring']['Amount'] + BLUE + " Tick/桶";
			}
			if(nbt['gt.spring']['Amount'] < 1200){
				return nbt['gt.spring']['Amount'] / 20 + BLUE + " 秒/桶";
			}
			if(nbt['gt.spring']['Amount'] < 72000){
				return nbt['gt.spring']['Amount'] / 1200 + BLUE + " 分钟/桶";
			}
			if(nbt['gt.spring']['Amount'] < 4320000){
				return nbt['gt.spring']['Amount'] / 72000 + BLUE + " 小时/桶";
			}
			if(nbt['gt.spring']['Amount'] < 103680000){
				return nbt['gt.spring']['Amount'] / 4320000 + BLUE + " 天/桶";
			}
		}
		</line>

		<line displayname="流体种类">
		if(nbt['gt.spring']['FluidName'] != null){
			return fluidName(nbt['gt.spring']['FluidName']);
		}
		</line>  

	</tileentity>

</oo>
